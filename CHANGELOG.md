## Changelog

### UNRELEASED

* Add an option to disable counting of tags if it is very slow: `-disable-count-tags`
* Add an option to specify a comma-separated list of repos to purge: `-purge-from-repos`

### 0.9.7 (2024-02-21)

* Fix timezone support: now when running a container with `TZ` env var, e.g. "-e TZ=America/Los_Angeles", it will be reflected everywhere on UI.
* Amend tag info page: add long line break, better format a caption column.
* Upgrade Go version to 1.22, alpine to 3.19 and other dependencies.

### 0.9.6 (2023-03-30)

* Upgrade Go version to 1.20.2, alpine to 3.17 and other dependencies.

### 0.9.5 (2022-09-05)

* Upgrade Go version to 1.19.0, alpine to 3.16 and other dependencies.
* Add an option `anyone_can_view_events` to restrict access to the event log. Set it to `true` to make event log accessible to anyone (to restore the previous behaviour), otherwise the default `false` will hide it and only admins can view it (thanks to @ribbybibby).
* Add an option `purge_tags_keep_regexp` to preserve tags based on regexp (thanks to @dmaes).
* Add an option `purge_tags_keep_from_file` to preserve tags for repos listed in the file provided.
* When purging tags sort them by name reversibly when no date available, e.g. for OCI image format (thanks to @dmaes).
* Fix a bug when there was a bit more tags preserved than defined by `purge_tags_keep_count`.

Also see `config.yml` in this repo for the description of new options.

### 0.9.4 (2022-04-06)

* Upgrade Go version to 1.18.0, alpine to 3.15 and other dependencies.
* Build docker image with ARM support.

### 0.9.3 (2021-04-26)

* Upgrade Go version to 1.16.3, alpine to 3.13 and other dependencies.
* Support deletion of manifest lists.

### 0.9.2 (2020-07-10)

* Upgrade Go version to 1.14.4, alpine to 3.12 and other dependencies.
* Enable default logging for purge tags task.

### 0.9.1 (2020-02-20)

* Minor amendments for the tag info page to account the cache type of sub-image.

### 0.9.0 (2020-02-19)

* Upgrade Go version to 1.13.7, alpine to 3.11 and other dependencies.
* Support Manifest List v2. This enables the proper display of multi-arch images,
  such as those generated by Docker BuildX or manually (thanks to Christoph Honal @StarGate01).
  So now we support the following formats: Manifest v2 schema 1, Manifest v2 schema 2, Manifest List v2 schema 2
  and all their confusing combinations.
* Amend representation of the tag info page.
* Change logging library, add "-log-level" argument and put most of the logging into DEBUG mode.
* You can define timezone when running container by adding `TZ` env var, e.g. "-e TZ=America/Los_Angeles"
  (thanks to @gminog).
* Fix initial ownership of /opt/data dir in Dockerfile.
* Hide repositories with 0 tags count.
* Compatibility fix with docker_auth v1.5.0.

### 0.8.2 (2019-07-30)

* Add event_deletion_enabled option to the config, useful for master-master/cluster setups.
* Generate SHA256 from response body if no Docker-Content-Digest header is present, e.g. with AWS ECR.
* Bump go version.

### 0.8.1 (2019-02-20)

* Add favicon.

### 0.8.0 (2019-02-19)

* Use go 1.11.5, alpine 3.9, echo 3.3.10.
* Put all static files to the docker image instead of loading from CDN.
* Now discover more than 100 repositories (thanks to Yuhi Ishikura @uphy).

### 0.7.4 (2018-10-30)

* Switch to Go 1.11 and Go Modules to track dependencies.

### 0.7.3 (2018-08-14)

* Add `registry_password_file` option to the config file.
* Improve no data message on empty tables on UI.
* Show the root namespace "library" in the dropdown even when there are no repos in it.
* Switch alpine Docker image to 3.8.

### 0.7.2 (2018-07-30)

* Make web root accessible w/o trailing slash when base_path is configured.

### 0.7.1 (2018-07-18)

* Fix panic when using MySQL for events storage and no table created yet.

### 0.7 (2018-07-04)

* When using MySQL for events storage, do not leak connections.
* Last events were not shown when viewing a repo of non-default namespace.
* Support repos with slash in the name.
* Enable Sonatype Nexus compatibility.
* Add `base_path` option to the config to run UI from non-root.
* Add built-in cron feature for purging tags task.

### 0.6 (2018-05-28)

* Add MySQL along with sqlite3 support as a registry events storage.
  New config settings `event_database_driver`, `event_database_location`.
* Bump Go version and dependencies.

### 0.5 (2018-03-06)

* Initial public version.
